(this.webpackJsonpkemevents=this.webpackJsonpkemevents||[]).push([[0],{16:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),s=a.n(r),o=a(3),i=a.n(o),u=a(6),l=a(4),m=(a(5),function(){return c.a.createElement("div",{className:"date-break date-break--soon"},"\u041d\u0410 \u042d\u0422\u041e\u0419 \u041d\u0415\u0414\u0415\u041b\u0415")}),d=function(){return c.a.createElement("div",{className:"date-break date-break--not-soon"},"\u041f\u041e\u0417\u0416\u0415")},v=function(e){var t=e.image,a=e.title,n=e.date,r=e.status,s=e.isSoon,o=e.link,i=s?"--soon":"--not-soon";return c.a.createElement("a",{href:"https://vk.com/".concat(o),className:"event-container event-container"+i},c.a.createElement("div",{className:"image-column"},c.a.createElement("img",{className:"event-image",src:t,alt:"logo"})),c.a.createElement("div",{className:"info-column"},c.a.createElement("div",{className:"event-date"},n),c.a.createElement("div",{className:"event-name"},a),c.a.createElement("div",{className:"event-status"},r)))},f="5f296fdfe4a93b8cccfde756e9ee9df542c63c44b94f13c7fefbb18bf764aaa41df45348d481294d92486",p=a(20),b=a(18),h=a(19),k=(a(15),[116828815,97035114,101563208]),_=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)([]),s=Object(l.a)(r,2),o=s[0],_=s[1],E=Object(n.useState)([]),g=Object(l.a)(E,2),j=g[0],w=g[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,e.next=4,fetch("https://api.vk.com/method/groups.search?type=event&q=*&country_id=".concat("1","&city_id=").concat("64","&future=").concat("1","&access_token=").concat(f,"&v=").concat("5.58"));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,_(n.response.items.map((function(e){return e.id}))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,a(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,t=o.filter((function(e){return!k.includes(e)})),e.next=5,fetch((s=t.join(),"https://api.vk.com/method/groups.getById?group_ids=".concat(s,"&fields=").concat("description,age_limits,city,cover,links,members_count,place,public_date_label,start_date,finish_date,status,activity,main_section,public_date_label,site,status","&access_token=").concat(f,"&v=").concat("5.58")));case 5:return n=e.sent,e.next=8,n.json();case 8:c=e.sent,r=c.response.sort((function(e,t){return e.start_date-t.start_date})),w(r),console.log(c.response),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:return e.prev=17,a(!1),e.finish(17);case 20:case"end":return e.stop()}var s}),e,null,[[1,14,17,20]])})));return function(){return e.apply(this,arguments)}}();o.length&&e()}),[o]);var y=function(e){var t=new Date,a=Object(p.a)(t,1);return!Object(b.a)(Object(h.a)(e),a)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"title"},"\u0421\u041e\u0411\u042b\u0422\u0418\u042f"),c.a.createElement("div",{className:"container"},c.a.createElement(m,null),j.map((function(e,t){return c.a.createElement("div",{key:e.id},c.a.createElement(v,{key:e.id,title:e.name,link:e.screen_name,image:e.photo_200,date:e.activity,status:e.status,isSoon:y(e.start_date)}),j[t+1]&&y(j[t+1].start_date)!==y(e.start_date)?c.a.createElement(d,null):"")}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,a){},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.de27458d.chunk.js.map