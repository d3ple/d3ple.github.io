"use strict";var mainMenuSidebar=document.getElementsByClassName("main-menu-sidebar")[0],mainMenuOverlay=document.getElementsByClassName("main-menu__overlay")[0],mainMenuBtn=document.getElementsByClassName("conversations__main-menu-btn")[0],openMainMenu=function(){mainMenuSidebar.classList.remove("main-menu__sidebar--hidden"),mainMenuOverlay.classList.remove("main-menu__overlay--hidden")},closeMainMenu=function(){mainMenuSidebar.classList.add("main-menu__sidebar--hidden"),mainMenuOverlay.classList.add("main-menu__overlay--hidden")};function showChat(){document.getElementsByClassName("chat-header")[0].classList.remove("chat-header--hidden"),document.getElementsByClassName("chat-body")[0].classList.remove("chat-body--hidden"),document.getElementsByClassName("chat-footer")[0].classList.remove("chat-footer--hidden"),document.getElementsByClassName("chat__start_overlay")[0].classList.add("chat__start_overlay--hidden")}function isSelectedConversationExist(e){return void 0!==e}function chooseChatFooter(e){var t=document.getElementById("chat-footer-chat"),r=document.getElementById("chat-footer-channel");e.classList.contains("conversations-item--channel")?(t.classList.add("chat-footer__inner--hidden"),r.classList.remove("chat-footer__inner--hidden")):(t.classList.remove("chat-footer__inner--hidden"),r.classList.add("chat-footer__inner--hidden"))}function setChatName(e){var t=e.getElementsByClassName("conversations-item__author")[0];document.getElementsByClassName("chat-header__chat-name")[0].textContent=t.textContent}function selectConversation(){var e=document.getElementsByClassName("conversations-item--selected")[0];(isSelectedConversationExist(e)||showChat(),isSelectedConversationExist(e))&&(e.classList.toggle("conversations-item--selected"),document.getElementById(e.id+"-chat").classList.toggle("chat-body__conversation-chat--selected"));this.classList.toggle("conversations-item--selected"),document.getElementById(this.id+"-chat").classList.toggle("chat-body__conversation-chat--selected"),chooseChatFooter(this),setChatName(this)}mainMenuBtn.addEventListener("click",openMainMenu),mainMenuOverlay.addEventListener("click",closeMainMenu);var conversationsItems=document.getElementsByClassName("conversations-item"),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=conversationsItems[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var item=_step.value;item.addEventListener("click",selectConversation)}}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}function changeSystemInterface(){this.checked=!0;var e=document.getElementsByClassName("system-interface__elements"),t=!0,r=!1,a=void 0;try{for(var o,n=e[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){o.value.classList.toggle("system-interface__elements--hidden")}}catch(e){r=!0,a=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw a}}}var systemInterfaceRadios=document.getElementsByName("system"),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=systemInterfaceRadios[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var radio=_step3.value;radio.addEventListener("change",changeSystemInterface)}}catch(e){_didIteratorError3=!0,_iteratorError3=e}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}function changeBgImage(){var e=document.getElementsByClassName("chat__start_overlay")[0],t=document.getElementsByClassName("chat-body")[0],r=document.getElementById("bg-changer").value;""!==r&&(e.style.backgroundImage="url("+r+")",t.style.backgroundImage="url("+r+")")}var BgChangingButton=document.getElementById("bg-changer-btn");function changeBg(){var e=this.value,t=this.id;document.getElementsByClassName(t)[0].style.backgroundColor=e,console.log(t+": "+e+";")}BgChangingButton.addEventListener("click",changeBgImage);var colorPickers=document.getElementsByClassName("picker"),_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=colorPickers[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var picker=_step4.value;picker.addEventListener("change",changeBg)}}catch(e){_didIteratorError4=!0,_iteratorError4=e}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}function rgb2hex(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}var pickers=document.getElementsByClassName("picker"),_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=pickers[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var _picker=_step5.value,element=document.getElementsByClassName(_picker.id)[0],style=getComputedStyle(element);_picker.value=rgb2hex(style.backgroundColor),console.log(rgb2hex(style.backgroundColor))}}catch(e){_didIteratorError5=!0,_iteratorError5=e}finally{try{_iteratorNormalCompletion5||null==_iterator5.return||_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}function makeTheme(){document.getElementsByClassName("theme-text-field")[0].value="$dialogsBg: "+document.getElementById("$dialogsBg").value+";\n$topBarBg: "+document.getElementById("$topBarBg").value+";\n$searchedBarBg: "+document.getElementById("$searchedBarBg").value+";\n$titleBg: "+document.getElementById("$titleBg").value+";"}